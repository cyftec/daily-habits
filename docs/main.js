var r=["onmount","onunmount"],i=["onerror","onload","onresize","onblur","onchange","oncontextmenu","onfocus","oninput","oninvalid","onreset","onselect","onsubmit","onkeydown","onkeypress","onkeyup","onclick","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onscroll","onabort","oncanplay","oncanplaythrough","ondurationchange","onemptied","onended","onerror","onloadeddata","onloadedmetadata","onloadstart","onpause","onplay","onplaying","onprogress","onratechange","onseeked","onseeking","onstalled","onsuspend","ontimeupdate","onvolumechange","onwaiting"],zJ=[...i,...r],WJ=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","big","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","meta","meter","nav","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr"],x,qJ=(J)=>{if(!x)x=document.createElement("textarea");return x.innerHTML=J,x.value},UJ=()=>{let J=0;return{getNewId:()=>++J,resetIdCounter:()=>J=0}},n=UJ(),k={currentIs:(J)=>window._currentAppPhase===J,start:(J)=>{window._currentAppPhase=J,console.log(`Current phase is ${J}`)}},b=(J)=>{let Q=Object.entries(J).sort((X,Y)=>X[0].localeCompare(Y[0]));return Q.forEach(([X,Y],Z)=>{if(Y&&typeof Y==="object"&&!Array.isArray(Y))Q[Z]=[X,b(Y)]}),Object.fromEntries(Q)},a=(J)=>{if(typeof J!=="object"||J===null||Array.isArray(J))return!1;return Object.prototype.toString.call(J)==="[object Object]"},V=(J)=>{if(Array.isArray(J)){let Q=[...J],X=[];return Q.forEach((Y)=>{X.push(V(Y))}),X}if(a(J)){let Q={...J},X={};return Object.keys(Q).forEach((Y)=>{X[Y]=V(Q[Y])}),Object.freeze(X)}return J},O=(J)=>{if(Array.isArray(J)){let X=[...J],Y=[];return X.forEach((Z)=>{Y.push(O(Z))}),Y}if(a(J)){let X={...J},Y={};return Object.keys(X).forEach((Z)=>{Y[Z]=O(X[Z])}),Y}return J},p=(J,Q="index")=>J.map((X,Y)=>({[Q]:Y,value:X})),BJ=(J,Q)=>{let X=b(J),Y=b(Q),Z=Object.keys(X),z=Object.keys(Y);if(Z.length!==z.length)return!1;for(let $ of Z)if(!z.includes($)||!c(X[$],Y[$]))return!1;return!0},_J=(J,Q)=>{if(J.length!==Q.length)return!1;if(J.length===0)return!0;for(let X=0;X<J.length;X++)if(!c(J[X],Q[X]))return!1;return!0},c=(J,Q)=>{if(typeof J!==typeof Q)return!1;if(Array.isArray(J))return _J(J,Q);if(J===null||Q===null)return J===Q;if(typeof J==="object"&&!(J instanceof Set))return BJ(J,Q);if(typeof J==="bigint"||typeof J==="number"||typeof J==="string"||typeof J==="boolean")return J===Q;return J===Q},GJ=(J,Q,X)=>{let Z=p(O(J),"index");return p(O(Q),"index").map(($)=>{let q="add",U=-1,B=$.value;return Z.some((L,j)=>{if(q=c(L.value,$.value)?L.index===$.index?"idle":"shuffle":X&&L.value[X]!==void 0&&L.value[X]===$.value[X]?"update":"add",q!=="add")return U=L.index,Z.splice(j,1),!0;return!1}),{type:q,oldIndex:U,value:B}})},f=(J)=>["source-signal","derived-signal"].includes(J?.type),t=(J,Q)=>J?.type==="non-signal"&&(!Q||!Q.length||Q.some((X)=>typeof J?.value===X)),h=(J)=>f(J)||t(J),l=(J)=>t(J,["string"]),e=(J)=>J?.type==="non-signal"&&Array.isArray(J?.value)&&(J?.value).every((Q)=>typeof Q==="string"),S=(J)=>h(J)?J.value:J,I=null,N=(J)=>{let Q=V(J),X=new Set;return{type:"source-signal",get value(){if(I)X.add(I);return O(Q)},set value(Y){if(Y===Q)return;Q=V(Y),X.forEach((Z)=>Z&&Z())}}},K=(J)=>{I=J,J(),I=null},D=(J)=>{let Q,X=N(Q);return K(()=>{Q=J(Q),X.value=Q}),{type:"derived-signal",get prevValue(){return Q},get value(){return X.value}}},G=(J,...Q)=>D(()=>{return J.reduce((X,Y,Z)=>{let z,$=Q[Z];if(typeof $==="function")z=$()??"";else if(h($))z=$.value??"";else z=$??"";return`${X}${Y}${z.toString()}`},"")}),g=(J)=>Array.isArray(J),C=(J)=>!isNaN(J?.elementId)&&J?.elementId>0,A=(J)=>typeof J==="string"||typeof J==="function"&&J.isElementGetter,v=(J)=>f(J)&&A(J.value),DJ=(J)=>A(J)||v(J),JJ=(J)=>{return f(J)&&(A(J.value)||g(J.value)&&J.value.every((Q)=>A(Q)))},QJ=(J)=>{return!f(J)&&(l(J)||e(J)||A(J)||g(J)&&J.every((Q)=>DJ(Q)))},u=(J)=>{return JJ(J)||QJ(J)},s=!1,LJ={},w={},RJ=globalThis.MutationObserver,FJ=new RJ((J)=>{J.forEach((Q)=>{if(Q.type==="childList")Q.addedNodes.forEach((X)=>{if(C(X)){let Y=X,Z=Y.elementId;if(w[Z])delete w[Z];else LJ[Z]=Y.tagName}}),Q.removedNodes.forEach((X)=>{if(C(X)){let Y=X,Z=Y.elementId,z=Y.unmountListener;if(z)w[Z]={element:Y,unmountListener:z}}})}),Object.entries(w).forEach(([Q,X])=>{let{element:Y,unmountListener:Z}=X;XJ(Y,Z)})}),XJ=(J,Q)=>{if(!C(J))return;let X=J.children;for(let Y=0;Y<X.length;Y++){let Z=X[Y];XJ(Z,Z.unmountListener)}if(Q&&Q(J),w[J.elementId])delete w[J.elementId]},PJ=()=>{if(!s&&!k.currentIs("build"))FJ.observe(document.body,{childList:!0,subtree:!0}),s=!0},YJ=(J,Q)=>zJ.includes(J)&&Q===void 0,ZJ=(J,Q)=>i.includes(J)&&typeof Q==="function",$J=(J,Q)=>r.includes(J)&&typeof Q==="function",HJ=(J,Q)=>YJ(J,Q)||ZJ(J,Q)||$J(J,Q),kJ=(J,Q)=>{Object.entries(Q).forEach(([X,Y])=>{if(YJ(X,Y));else if(ZJ(X,Y)){let Z=X.slice(2);J.addEventListener(Z,(z)=>{if(Z==="keypress")z.preventDefault();Y(z)})}else if($J(X,Y)){if(X==="onmount"&&!k.currentIs("build")){let Z=Y;setTimeout(()=>Z(J),0)}if(X==="onunmount")PJ(),J.unmountListener=Y}else console.error(`Invalid event key: ${X} for element with tagName: ${J.tagName}`)})},m=(J,Q,X)=>{let Y=(h(X)?X.value:X)??"";if(typeof Y==="boolean")if(Y)J.setAttribute(Q,"");else J.removeAttribute(Q);else if(Q==="value")J.value=Y;else if(Y)J.setAttribute(Q,Y)},MJ=(J,Q)=>{let X={};Object.entries(Q).forEach((Y)=>{let[Z,z]=Y;if(f(z))X[Z]=z;m(J,Z,z)}),K(()=>{Object.entries(X).forEach((Y)=>{let[Z,z]=Y,$=z.value;if(!k.currentIs("run"))return;m(J,Z,$)})})},E=(J)=>{if(v(J)){let Q=J.value;return E(Q)}if(typeof J==="string")return document.createTextNode(qJ(J));if(A(J)){let Q=J();if(!C(Q))throw new Error(`Invalid MHtml element getter child. Type: ${typeof J}`);return Q}throw new Error(`Invalid child. Type of child: ${typeof J}`)},fJ=(J,Q)=>{if(!Q)return;if(JJ(Q))K(()=>{let Y=Q.value,Z=g(Y)?Y:[Y];Z.forEach(($,q)=>{let U=J.childNodes[q],B=E($);if(U&&B)J.replaceChild(B,U);else if(B)J.appendChild(B);else console.error(`No child found for node with tagName: ${J.tagName}`)});let z=Z.length;while(z<J.childNodes.length){let $=J.childNodes[z];if($)J.removeChild($)}});if(QJ(Q)){let X=l(Q)?[Q.value]:e(Q)?Q.value:g(Q)?Q:[Q],Y=[];if(X.forEach((Z,z)=>{if(v(Z))Y.push({index:z,childSignal:Z});let $=E(Z),q=J.childNodes[z];if(q&&$)J.replaceChild($,q);else if(!q&&$)J.appendChild($);else console.error(`No child found for node with tagName: ${J.tagName}`)}),Y.length)Y.forEach(({index:Z,childSignal:z})=>{K(()=>{if(!z.value)return;if(!k.currentIs("run"))return;let $=E(z.value),q=J.childNodes[Z];if(q&&$)J.replaceChild($,q);else if(!q&&$)J.appendChild($);else console.error(`No child found for node with tagName: ${J.tagName}`)})})}},TJ=(J,Q)=>{let X=void 0,Y={},Z={};return Object.entries(J).forEach(([z,$])=>{if(z==="children")if(u($))X=$;else if($===void 0)X=$;else throw new Error(`Invalid children prop for node with tagName: ${Q}

 ${JSON.stringify($)}`);else if(HJ(z,$))Y[z]=$;else Z[z]=$}),{children:X,eventProps:Y,attributeProps:Z}},jJ=(J,Q)=>{let X=()=>{let Y=n.getNewId(),Z=k.currentIs("mount")?document.querySelector(`[data-elem-id="${Y}"]`):document.createElement(J);Z.elementId=Y,Z.unmountListener=void 0;let z=u(Q)?{children:Q}:Q;if(!k.currentIs("run"))z["data-elem-id"]=Z.elementId.toString();let $=TJ(z,Z.tagName);if(kJ(Z,$.eventProps),MJ(Z,$.attributeProps),fJ(Z,$.children),!k.currentIs("build"))Z.removeAttribute("data-elem-id");return Z};return X.isElementGetter=!0,X},o=(J,Q,X)=>{let Y=N(Q),Z=N(J),z=X(D(()=>Z.value),D(()=>Y.value)),$,q,U=!1;if(z?.isElementGetter)$=()=>{if(U&&q)return q;return q=z(),U=!0,q},$.isElementGetter=!0;else if(typeof z==="string")$=z;else throw`One of the child, ${z} passed in ForElement is invalid.`;return{indexSignal:Y,itemSignal:Z,mappedChild:$}},d=(J,Q,X)=>{if(Q!==void 0&&Q>=0&&X){let Y=Q>J.length?J.length:Q;J.splice(Y,0,X)}return J},wJ=({subject:J,itemKey:Q,map:X,n:Y,nthChild:Z})=>{if(Z&&Y===void 0||Y!==void 0&&Y>-1&&!Z)throw new Error("Either both 'n' and 'nthChild' be passed or none of them.");let z=D(()=>{let _=S(J);return Array.isArray(_)?_:[]});if(!Q)return D(()=>d(z.value.map(X),Y,Z));let $=Z;if(Z&&typeof Z!=="string"){let _=Z(),R=()=>_;R.isElementGetter=!0,$=R}let q=z.value;if(q.length&&typeof q[0]!=="object")throw new Error("for mutable map, item in the list must be an object");let U=null,B=D((_)=>{return U=_||U,z.value}),L=D((_)=>{if(!_||!U)return B.value.map((T,H)=>o(T,H,X));return GJ(U,B.value,Q).map((F,T)=>{let H=(_||[])[F.oldIndex];if(console.assert(F.type==="add"&&F.oldIndex===-1&&!H||F.oldIndex>-1&&!!H,"In case of mutation type 'add' oldIndex should be '-1', or else oldIndex should always be a non-negative integer."),H){if(F.type==="shuffle")H.indexSignal.value=T;if(F.type==="update")H.indexSignal.value=T,H.itemSignal.value={...F.value};return H}return o(F.value,T,X)})});return D(()=>d(L.value.map((_)=>_.mappedChild),Y,$))},AJ=({subject:J,isTruthy:Q,isFalsy:X})=>{let Y=W.Span({style:"display: none;"}),Z=()=>(S(J)?Q:X)||Y;return f(J)?D(Z):Z()},OJ=({subject:J,caseMatcher:Q,defaultCase:X,cases:Y})=>{let Z=()=>{let z=S(J),$=void 0;for(let[q,U]of Object.entries(Y))if(Q&&Q(J,q)||z===q){$=U;break}return $||X||W.Span({style:"display: none;"})};return f(J)?D(Z):Z()},SJ=WJ.reduce((J,Q)=>{let X=Q.split("").map((Z,z)=>!z?Z.toUpperCase():Z).join(""),Y=(Z)=>jJ(Q,Z);return J[X]=Y,J},{}),KJ={For:wJ,If:AJ,Switch:OJ},W={...SJ,...KJ},P=(J)=>(Q)=>{for(let Y of Object.keys(Q))if(Q[Y]===void 0)delete Q[Y];let X=Object.entries(Q).reduce((Y,Z)=>{let[z,$]=Z,q=typeof $==="string",U=Array.isArray($)&&$.every((L)=>typeof L==="string"),B=f($)||typeof $==="function"?$:q||U?{type:"non-signal",get value(){return S($)}}:u($)?$:{type:"non-signal",get value(){return S($)}};return Y[z]=B,Y},{});return J(X)};var xJ=1.6181,EJ=["#e87b52","#F5B971","#F5E06F","#A3BA64","#679A9E","#7095C9","#A59EE3","#D89DBF"],M=(J)=>{return(...Q)=>{if(window.navigator?.vibrate)window.navigator.vibrate(3);return J&&J(...Q)}},bJ=P(({classNames:J,hideRemove:Q,hideAdd:X,onRemove:Y,onAdd:Z})=>{return W.Span({class:G`br3 pb1 f4 bw1 b--light-silver dark-gray ${()=>Q?.value&&X?.value?"bn":"ba"} ${J}`,children:[W.If({subject:Q,isFalsy:W.Span({class:G`pointer ph2 pb1 bw1 b--light-silver ${()=>X?.value?"":"br"}`,onclick:M(Y),children:"-"})}),W.If({subject:X,isFalsy:W.Span({class:"pointer ph2 pb1",onclick:M(Z),children:"+"})})]})}),yJ=P(({className:J,onTap:Q,children:X})=>W.Button({class:G`pointer br-pill ba bw1 b--light-silver b--hover-black bg-white black ${J}`,onclick:M(()=>Q()),children:X})),cJ=P(({classNames:J,colorIndex:Q,level:X,totalLevels:Y,textContent:Z,showText:z,onClick:$})=>{let q=D(()=>EJ[Q.value]),U=D(()=>Math.trunc(Math.pow(X.value/(Y.value-1),xJ)*255)),B=D(()=>{let _=U.value.toString(16);return _.length===1?`0${_}`:_}),L=D(()=>X.value<0||B.value==="0"?"transparent":`${q.value}${B.value}`),j=D(()=>z?.value?X.value/(Y.value-1)>0.5?"white":"black":X.value<0?"lightgray":"transparent");return W.Span({class:G`pointer br-100 relative ${()=>X.value<0?"transparent":"bg-near-white"} ${J}`,onclick:M(()=>$&&X.value>=0&&$()),children:[W.Span({class:G`flex items-center justify-around absolute absolute--fill br-100 pt05`,style:G`
            background-color: ${L};
            color: ${j};
          `,children:D(()=>Z?.value||"·")})]})}),hJ=P(({className:J,size:Q,onClick:X,iconName:Y,title:Z})=>W.Span({class:G`material-symbols-rounded ${()=>X?"pointer":""} ${J}`,style:G`font-size: ${()=>Q?.value||"16"}px`,onclick:M(X),children:Y,title:Z})),vJ=P(({classNames:J,href:Q,target:X,onClick:Y,children:Z})=>{return W.A({class:G`${()=>!Q&&!Y?"":"pointer underline"} ${J}`,href:Q,target:X,onclick:M(Y),children:Z})}),uJ=P(({classNames:J,isOpen:Q,content:X,onTapOutside:Y})=>{return W.Dialog({onmount:(Z)=>setTimeout(()=>K(()=>{if(Q.value)Z.showModal();else Z.close()})),onclick:M(Y),class:G`pa0 br3 ${J}`,children:[W.Div({onclick:(Z)=>Z.stopPropagation(),children:X})]})}),pJ=P(({classNames:J,placeholder:Q,num:X,onchange:Y})=>{let Z=(z)=>{let $=z.target.value,q=Number.parseFloat(Number.parseFloat($||"0").toFixed(2));Y(q)};return W.Input({class:J,type:"number",placeholder:Q,value:G`${()=>X.value??""}`,onchange:Z})}),VJ=P(({classNames:J,body:Q,onMount:X})=>{return W.Html({lang:"en",children:[W.Head({children:[W.Title("Maya App"),W.Meta({charset:"UTF-8"}),W.Meta({"http-equiv":"X-UA-Compatible",content:"IE=edge"}),W.Meta({name:"viewport",content:"width=device-width, initial-scale=1.0"}),W.Link({rel:"stylesheet",href:"/assets/styles.css"})]}),W.Body({class:J,onmount:X,children:[W.Script({src:"main.js",defer:"true"}),Q]})]})}),IJ=P(({progress:J,classNames:Q})=>{let X=G`width: ${()=>J.value<0?0:J.value>100?100:J.value}%;`;return W.Div({class:G`br-pill bg-moon-gray ${Q}`,children:W.Div({class:"br-pill bg-app-theme-color pa1",style:X})})}),sJ=P(({classNames:J,header:Q,content:X,bottombar:Y})=>{return W.Div({class:"flex-ns justify-center-ns",children:W.Div({class:G`w6-ns ${J}`,children:[W.If({subject:Q,isTruthy:W.Div({class:"overflow-break-word sticky top-0 left-0 right-0 bg-inherit z-999 f2dot33 b pv3 mt2",children:Q})}),X,W.Div({class:"pv6 mt5"}),W.If({subject:Y,isTruthy:W.Div({class:"sticky bottom-0 left-0 right-0 z-9999",children:Y})})]})})}),mJ=P(({classNames:J,tabItemClassNames:Q,selectedTabClassNames:X,tabs:Y,selectedTabIndex:Z,onTabChange:z})=>{return W.Div({class:G`bg-near-white br3 ${J}`,children:W.Div({class:"flex items-center justify-between pa1",children:W.For({subject:Y,map:($,q)=>W.Span({class:G`w-100 br3 pa1 flex justify-center ${()=>q===Z.value?`bg-white black ${X?.value}`:"bg-transparent silver pointer"} ${Q}`,onclick:M(()=>z(q)),children:$})})})})}),oJ=P(({classNames:J,placeholder:Q,disabled:X,text:Y,onmount:Z,onchange:z,onkeydown:$,onfocus:q,onblur:U})=>{let B,L=(R)=>{if(B=R,Z)Z(R)},j=(R)=>{let F=R.target.value;if(z)z(F)},_=(R)=>{let F=R.key.length===1?B.value+R.key:R.key==="Backspace"?B.value.slice(0,-1):B.value,T={key:R.key,text:F};if($)$(T)};return W.Input({onmount:L,class:G`${J}`,type:"text",placeholder:Q,disabled:X,value:Y,onchange:j,onkeydown:_,onfocus:q,onblur:U})}),y=N(0),NJ=()=>{let J=setInterval(()=>{if(y.value+=1,y.value>=100)clearInterval(J),location.href="/habits/"},15)},gJ=VJ({classNames:"bg-near-white",onMount:NJ,body:W.Div({class:"flex flex-column justify-center items-center vh-100",children:[W.Img({class:"mt6 br4",src:"/assets/habits-logo.png",height:"100",width:"100"}),W.Div({class:"f3 b mv3",children:"Habits"}),IJ({classNames:"w-40",progress:y}),W.Div({class:"mt7 pv4",children:"A Cyfer Product"})]})}),CJ=()=>{k.start("mount"),n.resetIdCounter(),gJ(),k.start("run")};CJ();
