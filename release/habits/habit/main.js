var GX=(X)=>{let $=Object.entries(X).sort((Z,Q)=>Z[0].localeCompare(Q[0]));return $.forEach(([Z,Q],J)=>{if(Q&&typeof Q==="object"&&!Array.isArray(Q))$[J]=[Z,GX(Q)]}),Object.fromEntries($)},WX=(X)=>{if(typeof X!=="object"||X===null||Array.isArray(X))return!1;return Object.prototype.toString.call(X)==="[object Object]"},XX=(X)=>{if(Array.isArray(X)){let $=[...X],Z=[];return $.forEach((Q)=>{Z.push(XX(Q))}),Z}if(WX(X)){let $={...X},Z={};return Object.keys($).forEach((Q)=>{Z[Q]=XX($[Q])}),Object.freeze(Z)}return X},m=(X)=>{if(Array.isArray(X)){let Z=[...X],Q=[];return Z.forEach((J)=>{Q.push(m(J))}),Q}if(WX(X)){let Z={...X},Q={};return Object.keys(Z).forEach((J)=>{Q[J]=m(Z[J])}),Q}return X},IX=(X,$="index")=>X.map((Z,Q)=>({[$]:Q,value:Z})),h0=(X,$)=>{let Z=GX(X),Q=GX($),J=Object.keys(Z),W=Object.keys(Q);if(J.length!==W.length)return!1;for(let z of J)if(!W.includes(z)||!fX(Z[z],Q[z]))return!1;return!0},v0=(X,$)=>{if(X.length!==$.length)return!1;if(X.length===0)return!0;for(let Z=0;Z<X.length;Z++)if(!fX(X[Z],$[Z]))return!1;return!0},fX=(X,$)=>{if(typeof X!==typeof $)return!1;if(Array.isArray(X))return v0(X,$);if(X===null||$===null)return X===$;if(typeof X==="object"&&!(X instanceof Set))return h0(X,$);if(typeof X==="bigint"||typeof X==="number"||typeof X==="string"||typeof X==="boolean")return X===$;return X===$},c0=(X,$,Z)=>{let J=IX(m(X),"index");return IX(m($),"index").map((z)=>{let U="add",_=-1,B=z.value;return J.some((F,j)=>{if(U=fX(F.value,z.value)?F.index===z.index?"idle":"shuffle":Z&&F.value[Z]!==void 0&&F.value[Z]===z.value[Z]?"update":"add",U!=="add")return _=F.index,J.splice(j,1),!0;return!1}),{type:U,oldIndex:_,value:B}})},$X=null,H=(X)=>{let $=XX(X),Z=new Set;return{type:"source-signal",get value(){if($X)Z.add($X);return m($)},set value(Q){if(Q===$)return;$=XX(Q),Z.forEach((J)=>J&&J())}}},s=(X)=>{$X=X,X(),$X=null},G=(X)=>{let $,Z=H($);return s(()=>{$=X($),Z.value=$}),{type:"derived-signal",get prevValue(){return $},get value(){return Z.value}}},q=(X)=>EX(X)?X.value:X,b=(X)=>["source-signal","derived-signal"].includes(X?.type),oX=(X,$)=>X?.type==="non-signal"&&(!$||!$.length||$.some((Z)=>typeof X?.value===Z)),EX=(X)=>b(X)||oX(X),nX=(X)=>oX(X,["string"]),iX=(X)=>X?.type==="non-signal"&&Array.isArray(X?.value)&&(X?.value).every(($)=>typeof $==="string"),I=(X,...$)=>{return G(()=>{let Z=$.map((Q)=>q(Q));return X(...Z)})},E=(X)=>{let $=typeof X==="function"?X:()=>q(X);return{...{get truthy(){return G(()=>!!$())},get falsy(){return G(()=>!$())},get truthyFalsyPair(){return G(()=>{let Q=!!$();return[Q,!Q]})},ternary:(Q,J)=>G(()=>{return $()?q(Q):q(J)})},or:(Q)=>E(()=>{return!!($()||q(Q))}),orNot:(Q)=>E(()=>{return!!($()||!q(Q))}),and:(Q)=>E(()=>{return!!($()&&q(Q))}),andNot:(Q)=>E(()=>{return!!($()&&!q(Q))}),equals:(Q)=>E(()=>{return $()===q(Q)}),notEquals:(Q)=>E(()=>{return $()!==q(Q)}),orBothEqual:(Q,J)=>E(()=>{let W=$(),z=q(Q)===q(J);return!!(W||z)}),orBothUnequal:(Q,J)=>E(()=>{let W=$(),z=q(Q)!==q(J);return!!(W||z)}),andBothEqual:(Q,J)=>E(()=>{let W=$(),z=q(Q)===q(J);return!!(W&&z)}),andBothUnequal:(Q,J)=>E(()=>{let W=$(),z=q(Q)!==q(J);return!!(W&&z)}),orThisIsLT:(Q,J)=>E(()=>{let W=$(),z=q(Q)<q(J);return!!(W||z)}),orThisIsLTE:(Q,J)=>E(()=>{let W=$(),z=q(Q)<=q(J);return!!(W||z)}),orThisIsGT:(Q,J)=>E(()=>{let W=$(),z=q(Q)>q(J);return!!(W||z)}),orThisIsGTE:(Q,J)=>E(()=>{let W=$(),z=q(Q)>=q(J);return!!(W||z)}),andThisIsLT:(Q,J)=>E(()=>{let W=$(),z=q(Q)<q(J);return!!(W&&z)}),andThisIsLTE:(Q,J)=>E(()=>{let W=$(),z=q(Q)<=q(J);return!!(W&&z)}),andThisIsGT:(Q,J)=>E(()=>{let W=$(),z=q(Q)>q(J);return!!(W&&z)}),andThisIsGTE:(Q,J)=>E(()=>{let W=$(),z=q(Q)>=q(J);return!!(W&&z)})}},v=(X)=>{let $=typeof X==="function"?X:()=>q(X);return{...E(X),get result(){return G($)},add:(Z)=>v(()=>{return $()+q(Z)}),sub:(Z)=>v(()=>{return $()-q(Z)}),mul:(Z)=>v(()=>{return $()*q(Z)}),div:(Z)=>v(()=>{return $()/q(Z)}),mod:(Z)=>v(()=>{return $()%q(Z)}),pow:(Z)=>v(()=>{return $()**q(Z)}),isBetween:(Z,Q,J=!0,W=!0)=>E(()=>{let z=$(),U=q(Z),_=q(Q),B=J?z>=U:z>U,F=W?z<=_:z<_;return B&&F}),isLT:(Z)=>E(()=>$()<q(Z)),isLTE:(Z)=>E(()=>$()<=q(Z)),isGT:(Z)=>E(()=>$()>q(Z)),isGTE:(Z)=>E(()=>$()>=q(Z))}},m0=(X)=>{let $=typeof X==="function"?X:()=>q(X);return{...E(X),lengthBetween:(Z,Q,J=!0,W=!0)=>E(()=>{let U=$().length,_=q(Z),B=q(Q),F=J?U>=_:U>_,j=W?U<=B:U<B;return F&&j}),lengthEquals:(Z)=>E(()=>{return $().length===q(Z)}),lengthNotEquals:(Z)=>E(()=>{return $().length!==q(Z)}),lengthLT:(Z)=>E(()=>{return $().length<q(Z)}),lengthLTE:(Z)=>E(()=>{return $().length<=q(Z)}),lengthGT:(Z)=>E(()=>{return $().length>q(Z)}),lengthGTE:(Z)=>E(()=>{return $().length>=q(Z)})}},N=(X)=>{let Z=(typeof X==="function"?X:()=>q(X))();return typeof Z==="number"?v(X):typeof Z==="string"||Array.isArray(Z)?m0(X):E(X)},OX=(...X)=>X.map(($)=>q($)),n=(X)=>{return{get string(){return G(()=>{let $=q(X);return $===void 0||$===null?void 0:$.toString()})},or:($)=>G(()=>q(X)||q($))}},p0=(X)=>{let Z=["at","copyWithin","fill","includes","indexOf","join","lastIndexOf","slice","with"].reduce((Q,J)=>{let W=(...z)=>{return G(()=>{let U=OX(...z);return q(X)[J](...U)})};return Q[J]=W,Q},{});return{...n(X),...Z,concat:(Q)=>G(()=>q(X).concat(q(Q))),every:(Q)=>G(()=>q(X).every(Q)),filter:(Q)=>G(()=>q(X).filter(Q)),find:(Q)=>G(()=>q(X).find(Q)),findIndex:(Q)=>G(()=>q(X).findIndex(Q)),findLast:(Q)=>G(()=>q(X).findLast(Q)),findLastIndex:(Q)=>G(()=>q(X).findLastIndex(Q)),get lastItem(){return G(()=>{return m(q(X)).pop()})},get length(){return G(()=>q(X).length)},map:(Q)=>G(()=>q(X).map(Q)),partition:(Q)=>{let J=G(()=>q(X).filter(Q)),W=G(()=>q(X).filter((z,U,_)=>!Q(z,U,_)));return[J,W]},reduce:(Q,J)=>G(()=>q(X).reduce(Q,J)),reduceRight:(Q,J)=>G(()=>q(X).reduceRight(Q,J)),get reversed(){return G(()=>q(X).toReversed())},some:(Q)=>G(()=>q(X).every(Q)),toSorted:(Q)=>G(()=>q(X).toSorted(Q)),toSpliced:(Q,J,...W)=>G(()=>q(X).toSpliced(q(Q),q(J),...W))}},u0=(X)=>{let Z=["toExponential","toFixed","toPrecision"].reduce((Q,J)=>{let W=(...z)=>{return G(()=>{let U=OX(...z);return q(X)[J](...U)})};return Q[J]=W,Q},{});return{...n(X),...Z,toConfined:(Q,J)=>G(()=>q(X)<q(Q)?q(Q):q(X)>q(J)?q(J):q(X)),toLocaleString:(Q,J)=>G(()=>q(X).toLocaleString(q(Q),J))}},r0=(X)=>{if(!WX(q(X)))throw new Error("Thee argument should be a plain object or a signal of plain object");return{...n(X),prop:($)=>G(()=>q(X)[$]),get props(){return Object.keys(q(X)).reduce((Z,Q)=>{let J=Q;return Z[J]=this.prop(J),Z},{})},get keys(){return G(()=>Object.keys(q(X)))}}},lX=(X)=>{let Z=["at","charAt","charCodeAt","codePointAt","concat","endsWith","includes","indexOf","lastIndexOf","padEnd","padStart","repeat","slice","startsWith","substring","trim","trimEnd","trimStart"].reduce((Q,J)=>{let W=(...z)=>{return G(()=>{let U=OX(...z);return q(X)[J](...U)})};return Q[J]=W,Q},{});return{...n(X),...Z,get length(){return G(()=>q(X).length)},get lowercase(){return G(()=>q(X).toLowerCase())},get Sentencecase(){return G(()=>{let Q=q(X);return Q.charAt(0).toUpperCase()+Q.slice(1).toLowerCase()})},get TitleCase(){return G(()=>q(X).toLowerCase().replace(/\b\w/g,(Q)=>Q.toUpperCase()))},get UPPERCASE(){return G(()=>q(X).toUpperCase())},localeCompare:(Q,J,W)=>G(()=>q(X).localeCompare(q(Q),q(J),W)),normalize:(Q)=>G(()=>q(X).normalize(q(Q))),replace:(Q,J)=>G(()=>q(X).replace(q(Q),q(J))),replaceAll:(Q,J)=>G(()=>q(X).replaceAll(q(Q),q(J))),search:(Q)=>G(()=>q(X).search(Q)),split:(Q,J)=>G(()=>{let W=Q instanceof RegExp?Q:q(Q);return q(X).split(W,q(J))}),toLocaleLowerCase:(Q)=>G(()=>q(X).toLocaleLowerCase(q(Q))),toLocaleUpperCase:(Q)=>G(()=>q(X).toLocaleUpperCase(q(Q)))}},d0=H("dksjfbksjnd"),h5=lX(d0).split(""),M=(X)=>{return typeof q(X)==="number"?u0(X):typeof q(X)==="string"?lX(X):Array.isArray(q(X))?p0(X):WX(q(X))?r0(X):n(X)},R=(X,...$)=>G(()=>{return X.reduce((Z,Q,J)=>{let W,z=$[J];if(typeof z==="function")W=z()??"";else if(EX(z))W=z.value??"";else W=z??"";return`${Z}${Q}${W.toString()}`},"")}),aX=["onmount","onunmount"],tX=["onerror","onload","onresize","onblur","onchange","oncontextmenu","onfocus","oninput","oninvalid","onreset","onselect","onsubmit","onkeydown","onkeypress","onkeyup","onclick","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onscroll","onabort","oncanplay","oncanplaythrough","ondurationchange","onemptied","onended","onerror","onloadeddata","onloadedmetadata","onloadstart","onpause","onplay","onplaying","onprogress","onratechange","onseeked","onseeking","onstalled","onsuspend","ontimeupdate","onvolumechange","onwaiting"],s0=[...tX,...aX],o0=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","big","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","meta","meter","nav","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr"],a,eX=(X)=>{if(!a)a=document.createElement("textarea");return a.innerHTML=X,a.value},n0=(X)=>{try{return decodeURIComponent(X)}catch{return X}},i0=(X)=>{return X.replace(/\\u[\dA-Fa-f]{4}/g,($)=>String.fromCharCode(parseInt($.slice(2),16))).replace(/\\x[\dA-Fa-f]{2}/g,($)=>String.fromCharCode(parseInt($.slice(2),16)))},l0=()=>{let X=0;return{getNewId:()=>++X,resetIdCounter:()=>X=0}},X0=l0(),L={currentIs:(X)=>window._currentAppPhase===X,start:(X)=>{window._currentAppPhase=X,console.log(`Current phase is ${X}`)}},$0=(X,$,Z)=>{let Q=X;Q=eX(Q),Q=n0(Q),Q=i0(Q);let J=Q.trim().toLowerCase();for(let W of $)if(W.test(J))throw Z;return X},a0=(X)=>$0(X,[/^javascript\s*:/i,/^data\s*:/i,/^vbscript\s*:/i,/^file\s*:/i],'The href attribute value starting with one of "javascript:", "data:", "vbscript:" or "file:" is not allowed.'),t0=(X)=>$0(X,[/url\s*\(/i,/expression\s*\(/i,/javascript\s*:/i,/data\s*:/i,/vbscript\s*:/i,/file\s*:/i],'The style attribute value starting with one of "url(..", "expression(..", "javascript:", "data:", "vbscript:" or "file:" is not allowed.'),e0=(X,$)=>{if(X==="href"){if(typeof $==="boolean")throw"The value of 'href' attribute should not be a boolean";return a0($||"")}if(X==="style"){if(typeof $==="boolean")throw"The value of 'style' attribute should not be a boolean";return t0($||"")}return $},QX=(X)=>Array.isArray(X),ZX=(X)=>!isNaN(X?.elementId)&&X?.elementId>0,p=(X)=>X===void 0||typeof X==="string"||typeof X==="function"&&X.isElementGetter,AX=(X)=>b(X)&&p(X.value),X1=(X)=>p(X)||AX(X),Q0=(X)=>{return b(X)&&(p(X.value)||QX(X.value)&&X.value.every(($)=>p($)))},Z0=(X)=>{return!b(X)&&(nX(X)||iX(X)||p(X)||QX(X)&&X.every(($)=>X1($)))},DX=(X)=>{return Q0(X)||Z0(X)},gX=!1,$1={},c={},Q1=globalThis.MutationObserver,Z1=new Q1((X)=>{X.forEach(($)=>{if($.type==="childList")$.addedNodes.forEach((Z)=>{if(ZX(Z)){let Q=Z,J=Q.elementId;if(c[J])delete c[J];else $1[J]=Q.tagName}}),$.removedNodes.forEach((Z)=>{if(ZX(Z)){let Q=Z,J=Q.elementId,W=Q.unmountListener;if(W)c[J]={element:Q,unmountListener:W}}})}),Object.entries(c).forEach(([$,Z])=>{let{element:Q,unmountListener:J}=Z;J0(Q,J)})}),J0=(X,$)=>{if(!ZX(X))return;let Z=X.children;for(let Q=0;Q<Z.length;Q++){let J=Z[Q];J0(J,J.unmountListener)}if($&&$(X),c[X.elementId])delete c[X.elementId]},J1=()=>{if(!gX&&!L.currentIs("build"))Z1.observe(document.body,{childList:!0,subtree:!0}),gX=!0},W0=(X,$)=>s0.includes(X)&&$===void 0,Y0=(X,$)=>tX.includes(X)&&typeof $==="function",z0=(X,$)=>aX.includes(X)&&typeof $==="function",W1=(X,$)=>W0(X,$)||Y0(X,$)||z0(X,$),Y1=(X,$)=>{Object.entries($).forEach(([Z,Q])=>{if(W0(Z,Q));else if(Y0(Z,Q)){let J=Z.slice(2);X.addEventListener(J,(W)=>{if(J==="keypress")W.preventDefault();Q(W)})}else if(z0(Z,Q)){if(Z==="onmount"&&!L.currentIs("build")){let J=Q;setTimeout(()=>J(X),0)}if(Z==="onunmount")J1(),X.unmountListener=Q}else console.error(`Invalid event key: ${Z} for element with tagName: ${X.tagName}`)})},yX=(X,$,Z)=>{let Q=EX(Z)?Z.value:Z,J=e0($,Q);if(typeof J==="boolean")if(J)X.setAttribute($,"");else X.removeAttribute($);else if($==="value")X.value=J||"";else X.setAttribute($,J||"")},z1=(X,$)=>{let Z={};Object.entries($).forEach((Q)=>{let[J,W]=Q;if(b(W))Z[J]=W;yX(X,J,W)}),s(()=>{Object.entries(Z).forEach((Q)=>{let[J,W]=Q,z=W.value;if(!L.currentIs("run"))return;yX(X,J,z)})})},t=(X)=>{if(AX(X)){let $=X.value;return t($)}if(!X||typeof X==="string")return document.createTextNode(eX(X||""));if(p(X)){let $=X();if(!ZX($))throw new Error(`Invalid MHtml element getter child. Type: ${typeof X}`);return $}throw new Error(`Invalid child. Type of child: ${typeof X}`)},q1=(X,$)=>{if(!$)return;if(Q0($))s(()=>{let Q=$.value,J=QX(Q)?Q:[Q];J.forEach((z,U)=>{let _=X.childNodes[U],B=t(z);if(_&&B)X.replaceChild(B,_);else if(B)X.appendChild(B);else console.error(`No child found for node with tagName: ${X.tagName}`)});let W=J.length;while(W<X.childNodes.length){let z=X.childNodes[W];if(z)X.removeChild(z)}});if(Z0($)){let Z=nX($)?[$.value]:iX($)?$.value:QX($)?$:[$],Q=[];if(Z.forEach((J,W)=>{if(AX(J))Q.push({index:W,childSignal:J});let z=t(J),U=X.childNodes[W];if(U&&z)X.replaceChild(z,U);else if(!U&&z)X.appendChild(z);else console.error(`No child found for node with tagName: ${X.tagName}`)}),Q.length)Q.forEach(({index:J,childSignal:W})=>{s(()=>{if(!W.value)return;if(!L.currentIs("run"))return;let z=t(W.value),U=X.childNodes[J];if(U&&z)X.replaceChild(z,U);else if(!U&&z)X.appendChild(z);else console.error(`No child found for node with tagName: ${X.tagName}`)})})}},U1=(X,$)=>{let Z=void 0,Q={},J={};return Object.entries(X).forEach(([W,z])=>{if(W==="children")if(DX(z))Z=z;else if(z===void 0)Z=z;else throw new Error(`Invalid children prop for node with tagName: ${$}

 ${JSON.stringify(z)}`);else if(W1(W,z))Q[W]=z;else J[W]=z}),{children:Z,eventProps:Q,attributeProps:J}},G1=(X,$)=>{let Z=()=>{let Q=X0.getNewId(),J=L.currentIs("mount")?document.querySelector(`[data-elem-id="${Q}"]`):document.createElement(X);J.elementId=Q,J.unmountListener=void 0;let W=DX($)?{children:$}:$;if(!L.currentIs("run"))W["data-elem-id"]=J.elementId.toString();let z=U1(W,J.tagName);if(Y1(J,z.eventProps),z1(J,z.attributeProps),q1(J,z.children),!L.currentIs("build"))J.removeAttribute("data-elem-id");return J};return Z.isElementGetter=!0,Z},CX=(X,$,Z)=>{let Q=H($),J=H(X),W=Z(G(()=>J.value),G(()=>Q.value)),z,U,_=!1;if(W?.isElementGetter)z=()=>{if(_&&U)return U;return U=W(),_=!0,U},z.isElementGetter=!0;else if(!W||typeof W==="string")z=W||"";else throw`One of the child, ${W} passed in ForElement is invalid.`;return{indexSignal:Q,itemSignal:J,mappedChild:z}},bX=(X,$,Z)=>{if($!==void 0&&$>=0&&Z){let Q=$>X.length?X.length:$;X.splice(Q,0,Z)}return X},_1=({subject:X,itemKey:$,map:Z,n:Q,nthChild:J})=>{if(J&&Q===void 0||Q!==void 0&&Q>-1&&!J)throw new Error("Either both 'n' and 'nthChild' be passed or none of them.");let W=G(()=>{let f=q(X);return Array.isArray(f)?f:[]});if(!$)return G(()=>bX(W.value.map(Z),Q,J));let z=J;if(J&&typeof J!=="string"){let f=J(),P=()=>f;P.isElementGetter=!0,z=P}let U=W.value;if(U.length&&typeof U[0]!=="object")throw new Error("for mutable map, item in the list must be an object");let _=null,B=G((f)=>{return _=f||_,W.value}),F=G((f)=>{if(!f||!_)return B.value.map((k,w)=>CX(k,w,Z));return c0(_,B.value,$).map((D,k)=>{let w=(f||[])[D.oldIndex];if(console.assert(D.type==="add"&&D.oldIndex===-1&&!w||D.oldIndex>-1&&!!w,"In case of mutation type 'add' oldIndex should be '-1', or else oldIndex should always be a non-negative integer."),w){if(D.type==="shuffle")w.indexSignal.value=k;if(D.type==="update")w.indexSignal.value=k,w.itemSignal.value={...D.value};return w}return CX(D.value,k,Z)})});return G(()=>bX(F.value.map((f)=>f.mappedChild),Q,z))},B1=({subject:X,isTruthy:$,isFalsy:Z})=>{let Q=Y.Span({style:"display: none;"}),J=()=>(q(X)?$:Z)||Q;return b(X)?G(J):J()},R1=({subject:X,caseMatcher:$,defaultCase:Z,cases:Q})=>{let J=()=>{let W=q(X),z=void 0;for(let[U,_]of Object.entries(Q))if($&&$(X,U)||W===U){z=_;break}return z||Z||Y.Span({style:"display: none;"})};return b(X)?G(J):J()},F1=o0.reduce((X,$)=>{let Z=$.split("").map((J,W)=>!W?J.toUpperCase():J).join(""),Q=(J)=>G1($,J);return X[Z]=Q,X},{}),K1={For:_1,If:B1,Switch:R1},Y={...F1,...K1},O=(X)=>($)=>{for(let Q of Object.keys($))if($[Q]===void 0)delete $[Q];let Z=Object.entries($).reduce((Q,J)=>{let[W,z]=J,U=typeof z==="string",_=Array.isArray(z)&&z.every((F)=>typeof F==="string"),B=b(z)||typeof z==="function"?z:U||_?{type:"non-signal",get value(){return q(z)}}:DX(z)?z:{type:"non-signal",get value(){return q(z)}};return Q[W]=B,Q},{});return X(Z)},q0=["#e87b52","#F5E06F","#A3BA64","#7095C9","#A59EE3","#D89DBF"],P1=[1,1,1,1,1,1,1],j1=[{name:"Not Applicable",code:-1,isMaxLevel:!1},{name:"Paused",code:-2,isMaxLevel:!1},{name:"Stopped",code:-3,isMaxLevel:!1}],_X=["Not started","Completed"],f1=[70,60,45],hX={id:"analytics",lastInteraction:new Date().getTime()},JX={id:"local-settings",habitsPage:{tabIndex:0,sortOptionIndex:0},editPage:{showHints:!0,showFullCustomisation:!1}},vX=[{icon:"calendar_month",decending:!0,label:"Date created (Newest first)"},{icon:"calendar_month",decending:!1,label:"Date created (Oldest first)"},{icon:"task_alt",decending:!0,label:"Completion (Highest first)"},{icon:"task_alt",decending:!1,label:"Completion (Lowest first)"}];var BX=86400000,E1=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],O1=["January","February","March","April","May","June","July","August","September","October","November","December"],U0=(X,$)=>E1[X].substring(0,$),G0=(X,$)=>O1[X].substring(0,$),NX=(X)=>{return new Date(X.getFullYear(),X.getMonth(),X.getDate())},u=(X)=>NX(X).getTime(),YX=(X,$)=>u(X)===u($),A1=(X,$)=>{let Z=u(X),Q=u($);return Math.round((Q-Z)/BX)},D1=(X,$)=>new Date(X.getFullYear(),X.getMonth(),X.getDate()+$),N1=(X)=>{let $=new Date;return Array(X).fill(0).map((Z,Q)=>new Date($.getFullYear(),$.getMonth()-Q,1)).reverse()},M1=(X)=>{let $=X.getDay();return new Date(X.getFullYear(),X.getMonth(),X.getDate()-$)},w1=(X)=>{let $=6-X.getDay();return new Date(X.getFullYear(),X.getMonth(),X.getDate()+$)},k1=(X,$)=>{let Z=u(X),Q=u($);if(Z===Q)return[NX(new Date(Z))];let J=Z<Q?Z:Q,z=((Z<Q?Q:Z)-J)/BX;return Array(z+1).fill(0).map((U,_)=>new Date(J+_*BX))},T1=(X)=>{if(X<1)throw"";let $=new Date,Z=$.getFullYear(),Q=$.getMonth(),J=new Date(Z,Q-(X-1),1),W=new Date(Z,Q+1,0);return{startDate:J,endDate:W}},_0={href:"/",HABITS:{href:"/habits/",NEW:{href:"/habits/new/"},HABIT:{href:"/habits/habit/",EDIT:{href:"/habits/habit/edit/"}}},SETTINGS:{href:"/settings/",PRIVACY_POLICY:{href:"/settings/privacy-policy/"}}},H1=(X)=>location.href=X,x1=()=>location.href=_0.HABITS.NEW.href,L1=(X)=>location.href=`${_0.HABITS.HABIT.EDIT.href}?id=${X}`,S1=(X)=>{if(!L.currentIs("run"))return"";let $=window.location.search;return new URLSearchParams($).get(X)||""},V1=1.6181,I1=()=>{let $=+S1("id");if(isNaN($)||!$)return;try{return D0($)}catch(Z){return}},g1=(X)=>j1.find(($)=>$.code===X),B0=(X,$)=>{return X<0?g1(-1):{isMaxLevel:X===$.length-1,name:$[X],code:X}},y1=(X)=>({level:B0(-1,[]),date:X}),C1=(X,$,Z)=>({level:B0(X,$),date:Z}),b1=(X,$)=>X.find((Z)=>YX(Z.date,$)),MX=(X)=>{let $=NX(new Date(X.id));return{...X,startDate:$,levels:X.levels.map((Z,Q)=>({isMaxLevel:Q===X.levels.length-1,name:Z,code:Q})),tracker:X.tracker.map((Z,Q)=>C1(Z,X.levels,D1($,Q))),milestones:v1(X.milestones)}},h1=(X)=>{return{...X,levels:X.levels.map(($)=>$.name),tracker:X.tracker.map(($,Z)=>$.level.code),milestones:c1(X.milestones)}},R0=()=>{let $={id:new Date().getTime(),title:"",frequency:P1,colorIndex:0,levels:_X,tracker:[],milestones:f1,pauses:[],isStopped:!1};return MX($)},v1=(X)=>[{label:"Successful",upperLimit:100,percent:X[0],icon:"verified_user",color:"green"},{label:"Little more to go",upperLimit:X[0],percent:X[1],icon:"done_all",color:"light-blue"},{label:"Going good",upperLimit:X[1],percent:X[2],icon:"check",color:"blue"},{label:"Unacceptable",upperLimit:X[2],percent:0,icon:"close",color:"red"}],c1=(X)=>X.filter(($)=>!!$.percent).map(($)=>$.percent),wX=(X,$)=>{let Z=X[0];for(let Q=0;Q<X.length;Q++)if(Z=X[Q],Z.percent<=$)break;return{label:Z.label,icon:Z.icon,color:Z.color}},m1=(X,$)=>{if(!X.title)return"Title should not be empty";if($&&_5(X.title))return"A habit with same name already exists";if(X.frequency.every((Q)=>!Q))return"Select at least one day in a week";if(!X.levels.every((Q)=>!!Q.name))return"One of the levels is empty";if(X.levels.some((Q,J)=>{for(let W=J+1;W<X.levels.length;W++)if(X.levels[W].name===Q.name)return!0;return!1}))return"Multiple levels have same name";if(!X.milestones.every((Q)=>Q.percent<=100&&Q.percent>=0))return"The milestones should be between 0 and 100 percents";if(!X.milestones.every((Q,J,W)=>J===0?!0:W[J-1].percent>Q.percent))return"Milestones should be in order (from high to low)";return""},F0=(X,$,Z)=>{let Q=kX(X.tracker,$,Z),J=X.levels.length-1,W=0,z=0,U=0,_=0,B=0,F=0;return Q.forEach((j,f)=>{if(W+=j.level.code>-1?1:0,z+=j.level.code>0?1:0,U+=j.level.code>0?j.level.code:0,f===Q.length-1)return;let D=j.level.code<1;F=D?F+1:0;let w=100*((j.level.code>0?j.level.code:0)/(X.levels.length-1));_=Math.round(w)>50?_+1:0,B=D?0:B+1}),{title:X.title,aceStreak:_,followStreak:B,missed:F,percent:Math.round(100*(U/(W*J))),totalDays:W,workingDays:z}},p1=(X,$,Z)=>{let Q=!!X.length;if(!Q)return{hideAddButton:!1,hideRemoveButton:$.length<3};let J=$[Z],W=!!(Q&&X.find((f)=>f.name===J.name)),z=X.length!==$.length,U=$.length<X.length,_=$.length>X.length,B=!z&&X.length&&X.some((f,P)=>f.name!==$[P].name);return{hideAddButton:U||B||W&&U,hideRemoveButton:U||B||W&&_}},u1=(X,$,Z)=>{let Q=!!X.length,J=$[Z],W=!!(Q&&X.find((U)=>U.name===J.name)),z=X.length!==$.length;return W&&z},r1=(X,$,Z,Q=!1)=>{let J=q0[Z],W=X/($-1),U=Math.trunc(Math.pow(W,V1)*255).toString(16),_=U.length===1?`0${U}`:U,B=X<0||_==="0"?"transparent":`${J}${_}`,F=Q?X/($-1)>0.5?"white":"black":X<0?"lightgray":"transparent";return{backgroundColor:B,fontColor:F,peakBackgroundColor:J,levelPercent:Math.round(W*100)}},d1=(X,$,Z)=>{let Q=D0(X.id),J=Q.tracker.map((z)=>{if(YX(z.date,Z))return{...z,level:{...z.level,code:$}};return z}),W={...Q,tracker:J};xX(W)},s1=(X,$)=>{let Z=[];for(let Q of $)if(!X.some((W)=>{if(YX(W.date,Q))return Z.push(W),!0;return!1}))Z.push(y1(Q));return Z},kX=(X,$,Z)=>{let Q=k1($,Z);return s1(X,Q)},o1=(X)=>{let $=M1(new Date(X.id)),Z=w1(new Date),Q=kX(X.tracker,$,Z);return{...X,tracker:Q}},n1=(X)=>{let $=o1(X),Z=[];for(let Q=0;Q<$.tracker.length;Q++){let J=Math.floor(Q/7);if(!Z[J])Z[J]=[];Z[J][Q%7]=$.tracker[Q]}return Z},i1=(X,$,Z)=>{if(!X.length||X.length===$.length)return Z;let Q=[...Z],J=[];return X.forEach((W,z)=>{let U=$.find((j)=>j.name===W.name),_=!U,B=(j)=>{let f=[];Z.forEach((P,D)=>{if(P.level.code===W.code)f.push(D)}),J.push({indices:f,newLevel:j})};if(_){if(z===X.length-1)B($[$.length-1]);return}if(U.code===W.code)return;B(U)}),J.forEach((W)=>{W.indices.forEach((z)=>{Q[z]={...Q[z],level:W.newLevel}})}),Q},cX=(X)=>{let $=X.length-1;for(let Z=0;Z<X.length;Z++)X[Z]={...X[Z],code:Z,isMaxLevel:Z===$};return X},l1=(X)=>{let $=X.levels.map((W)=>0),Z=X.tracker.reduce((W,z)=>{if(z.level.code>-1)W[z.level.code]=W[z.level.code]?W[z.level.code]+1:1;return W},$),Q=Z.reduce((W,z)=>W+z),J=Z.map((W,z)=>({level:X.levels[z],count:W,weightage:W*(z/(X.levels.length-1)),percent:Math.round(100*W/Q)}));return J.reverse(),J},a1=(X)=>{return`${X.reduce(($,Z)=>$+Z.weightage,0).toFixed(1)} / ${X.reduce(($,Z)=>$+Z.count,0)}`},t1=(X)=>[{label:"Today",icon:"calendar_month",isSelected:X==="/",href:"/"},{label:"Habits",icon:"checklist",isSelected:X==="/habits/",href:"/habits/"},{label:"Settings",icon:"settings",isSelected:X==="/settings/",href:"/settings/"}],e1=()=>{if(window.navigator?.vibrate)window.navigator.vibrate(3)},TX=(X,$,Z)=>{let Q=JSON.parse(X||"{}"),J=Q&&typeof Q==="object",W=Q[$];if(!J||!(Z?W===Z:!!W))return;return Q},x=(X)=>{return(...$)=>{return e1(),G5(new Date),X&&X(...$)}},K0="analytics",X5="id",$5="analytics",P0=(X)=>{localStorage.setItem(K0,JSON.stringify(X))},Q5=()=>{if(!L.currentIs("run"))return hX;let X=()=>{let Q=localStorage.getItem(K0);return TX(Q,X5,$5)};if(!X())P0(hX);let Z=X();if(!Z)throw"Error fetching analytics";return Z},Z5=()=>{let X=[];for(let $ in localStorage){if(!localStorage.hasOwnProperty($))continue;X.push($)}return X},J5=(X)=>X.startsWith("h."),HX=(X)=>`h.${X}`,j0=(X)=>{if(!J5(X))return;let $=localStorage.getItem(X),Z=TX($,"title");if(!Z)return;return Z},f0=()=>{if(!L.currentIs("run"))return[];let X=[];for(let $ of Z5()){let Z=j0($);if(!Z)continue;X.push(Z)}return X},E0=(X)=>{let $=HX(X.id);localStorage.setItem($,JSON.stringify(X))},W5=(X)=>{let $=HX(X);localStorage.removeItem($)},O0="settings",Y5="id",z5="local-settings",A0=(X)=>{localStorage.setItem(O0,JSON.stringify(X))},q5=()=>{if(!L.currentIs("run"))return JX;let X=()=>{let Q=localStorage.getItem(O0);return TX(Q,Y5,z5)};if(!X())A0(JX);let Z=X();if(!Z)throw"Error fetching settings";return U5(Z),X()},U5=(X)=>{if(!X.editPage)A0({...X,editPage:JX.editPage})},G5=(X)=>{let $=Q5();P0({...$,lastInteraction:X.getTime()})},D0=(X)=>{let $=HX(X),Z=j0($);if(!Z)throw`Error fetching habit with id '${X}' from storage`;return MX(Z)},_5=(X)=>{let Z=f0().find((Q)=>Q.title.trim()===X.trim());return Z?MX(Z):void 0},B5=()=>{let X=f0();for(let $ of X){let Z=new Date($.id),Q=new Date,J=A1(Z,Q),W=[...$.tracker];if(J+2<=W.length)continue;let z=W.length-1,U=new Date(Z.getFullYear(),Z.getMonth(),Z.getDate()+z),_=U.getDay();if(YX(Q,U)){let B=W[z];W[z]=$.frequency[_]?B<0?0:B:-1}for(let B=W.length;B<=J;B++){let j=new Date(Z.getFullYear(),Z.getMonth(),Z.getDate()+B).getDay();W[B]=$.frequency[j]?0:-1}$.tracker=W,E0($)}},xX=(X)=>{let $=h1(X);E0($)},R5=(X)=>{let $={...X,isStopped:!0};xX($)},F5=(X)=>W5(X),K5=()=>{return q5().editPage},P5=O(({cssClasses:X,hideRemove:$,hideAdd:Z,onRemove:Q,onAdd:J})=>{let W=N($).and(Z).ternary("bn","ba"),z=N(Z).ternary("","br");return Y.Span({class:R`br3 pb1 f4 bw1 b--light-silver dark-gray ${W} ${X}`,children:[Y.If({subject:$,isFalsy:Y.Span({class:R`pointer ph2 pb1 bw1 b--light-silver ${z}`,onclick:x(Q),children:"-"})}),Y.If({subject:Z,isFalsy:Y.Span({class:"pointer ph2 pb1",onclick:x(J),children:"+"})})]})}),y=O(({cssClasses:X,onTap:$,children:Z})=>Y.Button({class:R`pointer noselect br-pill ba bw1 b--light-silver b--hover-black bg-white black ${X}`,onclick:x(()=>$()),children:Z})),v5=O(({cssClasses:X})=>{return Y.Div({class:R`bb b--light-gray ${X}`})}),S=O(({cssClasses:X,size:$,onClick:Z,iconName:Q,title:J})=>{let W=Z?"pointer":"",z=M($).or(16);return Y.Span({class:R`material-symbols-outlined ${W} ${X}`,style:R`font-size: ${z}px`,onclick:x(Z),children:Q,title:J})}),mX=O(({cssClasses:X,href:$,target:Z,onClick:Q,children:J})=>{let W=N($).or(Q).ternary("pointer underline","");return Y.A({...$?{href:$}:{},class:R`noselect ${W} ${X}`,target:Z,onclick:x(Q),children:J})}),zX=O(({cssClasses:X,isOpen:$,content:Z,onTapOutside:Q})=>{let J=(W)=>{setTimeout(()=>s(()=>{if($.value)W.showModal();else W.close()}))};return Y.Dialog({onmount:J,onclick:x(Q),class:R`pa0 br3 ${X}`,children:[Y.Div({onclick:(W)=>W.stopPropagation(),children:Z})]})}),j5=O(({cssClasses:X,placeholder:$,num:Z,onchange:Q})=>{let J=(W)=>{let z=W.target.value,U=Number.parseFloat(Number.parseFloat(z||"0").toFixed(2));Q(U)};return Y.Input({class:X,type:"number",placeholder:$,value:M(Z).string,onchange:J})}),f5=O(({progress:X,cssClasses:$})=>{return Y.Div({class:R`br-pill bg-moon-gray ${$}`,children:Y.Div({class:"br-pill bg-app-theme-color pa1",style:R`width: ${M(X).toConfined(0,100)}%;`})})}),LX=O(({cssClasses:X,header:$,content:Z,bottombar:Q})=>{return Y.Div({class:"flex-ns justify-center-ns",children:Y.Div({class:R`w6-ns ${X}`,children:[Y.If({subject:$,isTruthy:Y.Div({class:"overflow-break-word sticky top-0 left-0 right-0 bg-inherit z-999 f2dot33 b pv3 mt2",children:$})}),Z,Y.Div({class:"pv6 mt5"}),Y.If({subject:Q,isTruthy:Y.Div({class:"sticky bottom-0 left-0 right-0 z-9999",children:Q})})]})})}),c5=O(({cssClasses:X,tabItemCssClasses:$,selectedTabCssClasses:Z,tabs:Q,selectedTabIndex:J,onTabChange:W})=>{let z=(U)=>U===J.value?`b--light-silver b black ${Z?.value}`:"pointer b--transparent b--hover-black silver pointer";return Y.Div({class:R`bg-white br3 ${X}`,children:Y.Div({class:"flex items-center justify-between pa1",children:Y.For({subject:Q,map:(U,_)=>Y.Span({class:R`
                w-100 br3 pv2dot5 ph2 flex justify-center noselect br-pill ba bw1 bg-inherit
                ${z(_)} ${$}`,onclick:x(()=>W(_)),children:U})})})})}),pX=O(({cssClasses:X,placeholder:$,disabled:Z,text:Q,onmount:J,onchange:W,onkeydown:z,onfocus:U,onblur:_})=>{let B,F=(P)=>{if(B=P,J)J(P)},j=(P)=>{let D=P.target.value;if(W)W(D)},f=(P)=>{let D=P.key.length===1?B.value+P.key:P.key==="Backspace"?B.value.slice(0,-1):B.value,k={key:P.key,text:D};if(z)z(k)};return Y.Input({onmount:F,class:R`${X}`,type:"text",placeholder:$,disabled:N(Z).truthy,value:Q,onchange:j,onkeydown:f,onfocus:U,onblur:_})}),m5=O(({cssClasses:X,isOn:$,onToggle:Z})=>{let Q=N($).ternary("b--transparent","b--moon-gray bg-moon-gray"),J=N($).ternary("b--mid-gray bg-mid-gray","b--transparent");return Y.Div({class:R`flex items-center pointer noselect br-pill ba bw1dot5 b--mid-gray b--hover-black bg-white pa05 black ${X}`,onclick:x(Z),children:[Y.Div({class:R`br-100 ba bw1 b--hover-black pa1 ${Q}`}),Y.Div({class:"pa05"}),Y.Div({class:R`br-100 ba bw1 b--hover-black pa1 ${J}`})]})}),E5=O(({cssClasses:X,justifyCssClasses:$,label:Z})=>{let Q=M($).or("justify-end"),J=M(Z).or("Add habit");return Y.Div({class:R`w-100 flex ${Q} ${X}`,children:y({cssClasses:"pa3 mb3 shadow-4 b flex items-center",children:[S({cssClasses:"nl1 mr1",size:22,iconName:"add"}),J],onTap:x1})})}),o=O(({cssClasses:X,dotCssClasses:$,colorIndex:Z,level:Q,totalLevels:J,showText:W,textContent:z,icon:U,iconSize:_,isRectangular:B,showHeight:F,onClick:j})=>{let f=N(B).ternary("br0","br-100"),P=N(Q).isLT(0).ternary("bg-transparent","bg-light-gray"),{peakBackgroundColor:D,backgroundColor:k,fontColor:w,levelPercent:h}=M(I(r1,Q,J,Z,W)).props,i=M(z).or("·"),V=N(F).and(U).andThisIsGT(h,99).truthy,r=()=>{if(j&&Q.value>=0)j()};return Y.Span({class:R`pointer relative overflow-hidden ${f} ${P} ${X}`,onclick:x(r),children:Y.If({subject:F,isTruthy:Y.Span({class:R`flex items-center justify-around absolute left-0 right-0 bottom-0 br0 ${$}`,style:R`
            background-color: ${D};
            color: white;
            height: ${h}%;`,children:Y.If({subject:V,isTruthy:S({iconName:U,size:_})})}),isFalsy:Y.Span({class:R`flex items-center justify-around absolute absolute--fill ${$}`,style:R`
            background-color: ${k};
            color: ${w};`,children:Y.If({subject:U,isTruthy:S({iconName:U,size:_}),isFalsy:Y.Span(i)})})})})}),N0=O(({cssClasses:X})=>{return y({cssClasses:R`pa3 flex items-center ${X}`,children:[S({iconName:"arrow_back"}),Y.Span({class:"ml1",children:"Go Back"})],onTap:()=>history.back()})}),O5=O(({cssClasses:X,milestones:$,achievedMilestone:Z,completionPercent:Q})=>{let J=M(Z).prop("color"),W=I((z)=>z>53?"Average completion":z>43?"Avg completion":z>35?"Completion":"",Q);return Y.Div({class:R`center ${X}`,children:[Y.Div({class:"pb2 w-100 relative",children:Y.For({subject:$,map:(z,U)=>{return A5({colorCss:`bg-${z.color}`,percent:z.upperLimit,hideUpperLimit:U===0})}})}),Y.Div({class:R`nt3dot6 h1dot2 bw1 relative br b--${J}`,style:R`width: ${Q}%;`,children:Y.Div({class:R`relative flex items-start nt1 justify-between f7 mid-gray`,children:[Y.Div(W),Y.Div({class:R`absolute right-0 pr1 b f6 ${J}`,children:R`${Q}%`})]})})]})}),A5=O(({colorCss:X,hideUpperLimit:$,percent:Z})=>{let Q=N($).ternary("",R`${Z}%`),J=R`width: ${Z}%;`;return Y.Div({class:"absolute flex items-start h0dot5 bl br b--light-silver bw1",style:J,children:[Y.Div({class:R`absolute absolute-fill h0dot15 w-100 ${X}`}),Y.Div({class:"flex justify-end w-100 pt2 f7",children:Y.Div({class:"nr3 pb2 light-silver b",children:Q})})]})}),D5=O(({cssClasses:X,habit:$,date:Z,colorIndex:Q,totalLevels:J})=>{let W=G(()=>{let z=Z.value.getFullYear(),U=Z.value.getMonth(),_=new Date(z,U,1),B=new Date(z,U+1,0);return kX($.value.tracker,_,B)});return Y.Div({class:R`flex items-center ${X}`,children:[Y.Div({class:"f8 b w2 light-silver",children:G(()=>G0(Z.value.getMonth(),3))}),Y.Div({class:"w-100 flex items-center justify-between",children:Y.For({subject:W,map:(z)=>o({cssClasses:"pa1",colorIndex:Q,level:z.level.code,totalLevels:J})})})]})}),p5=O(({cssClasses:X,habit:$,months:Z,onClick:Q})=>{let{milestones:J,title:W,colorIndex:z,levels:U}=M($).props,_=I((P,D)=>{let{startDate:k,endDate:w}=T1(P);return F0(D,k,w).percent},Z,$),B=I(wX,J,_),{icon:F,color:j}=M(B).props,f=I(N1,Z);return Y.Div({class:R`pointer bg-white ${X}`,onclick:x(Q),children:[Y.Div({class:"flex items-center justify-between nt1 mb2",children:[Y.Div({class:"f5 dark-gray b",children:W}),Y.Div({class:"f6 silver b flex items-center",children:[S({cssClasses:R`mr1 ${j}`,iconName:F}),R`${_}%`]})]}),Y.Div({class:"mt2 mb1",children:Y.For({subject:f,map:(P)=>D5({cssClasses:"mb1",habit:$,date:P,colorIndex:z,totalLevels:U.value.length})})})]})}),N5=O(({cssClasses:X,editableHabit:$,editedHabit:Z,hideDescriptions:Q,showFullCustomisations:J,onChange:W})=>{let z=H(!1),U=M(J).or(z),{title:_,frequency:B,levels:F,milestones:j,colorIndex:f}=M(Z).props,P=M(B).every((A)=>!!A),D="bg-mid-gray white",k="bg-near-white light-silver",w=N(P).ternary("bg-mid-gray white","bg-near-white light-silver"),h=N(z).ternary("remove","add"),i=R`Show ${N(z).ternary("Less","More")} Customisations`,V=(A)=>{W({...Z.value,title:A})},r=(A)=>{W({...Z.value,colorIndex:A})},l=(A)=>{if(A<-1||A>6)throw"Invalid day index";if(A===-1){W({...Z.value,frequency:[1,1,1,1,1,1,1]});return}let K=P.value?B.value.map((T)=>0):B.value;K[A]=P.value?1:K[A]?0:1,W({...Z.value,frequency:K})},L0=(A,K)=>{let T=F.value;T[K]={...T[K],name:A},W({...Z.value,levels:T})},S0=(A)=>{let K=F.value;K.splice(A,0,{isMaxLevel:!1,name:"",code:A}),W({...Z.value,levels:cX(K)})},V0=(A)=>{let K=F.value;if(K.length<3)return;K.splice(A,1),W({...Z.value,levels:cX(K)})},I0=(A,K)=>{if(K<0||K>2)throw"Incorrect index of milestone passed. Milestone values should not be more than 3.";let T=[...Z.value.milestones];T[K]={...T[K],percent:A},W({...Z.value,milestones:T})};return Y.Div({class:X,children:[C({cssClasses:"pb1",title:"Weekdays",children:Y.Div({class:"mb3 f6 flex items-center justify-between justify-start-ns",children:Y.For({subject:Array(7).fill(0),n:0,nthChild:Y.Span({class:R`pointer flex items-center justify-center br-pill h2 ph2 mr3-ns ${w}`,children:"Daily",onclick:x(()=>l(-1))}),map:(A,K)=>{let T=G(()=>B.value[K]&&!P.value?"bg-mid-gray white":"bg-near-white light-silver");return Y.Span({class:R`pointer flex items-center justify-center br-100 h2 w2 mr3-ns ${T}`,children:U0(K,1),onclick:x(()=>l(K))})}})})}),C({cssClasses:"pb2",title:"Title of the habit",children:pX({cssClasses:"ba bw1 b--light-silver br3 pa2 w-100",placeholder:'for example, "wake up at 5am"',text:_,onchange:V})}),Y.If({subject:U,isTruthy:Y.Div([C({cssClasses:"pb1",title:"Select a color tag",children:Y.Div({class:"mb1 flex items-center",children:Y.For({subject:q0,map:(A,K)=>{let T=N(f).equals(K).ternary("#999","#f4f4f4");return Y.Span({class:"pointer mb2 mr3 pa1 br-100 bw2 ba flex",style:R`border-color: ${T}`,onclick:x(()=>r(K)),children:Y.Span({class:R`pa2 br-100`,style:`background-color: ${A}`})})}})})}),C({cssClasses:"pb3",title:"Status update levels",hideDescription:Q,description:`
                  When updating a habit status in a day, we generally have only two levels - "${_X[0]}"
                  or "${_X[1]}". But a habit can have more than 2 levels as well.
                  Like for example, the habit of 'Drink 2 litres water daily'
                  should ideally have three levels - '0 litre', '1 litre' and '2 litres', from low to high.
                  You can add or remove levels by clicking on + or - buttons. Click on textbox
                  for editing the status level name. The levels from top to bottom should go from lowest
                  to the highest.`,children:Y.For({subject:F,map:(A,K)=>{let T=$?.value?.levels||[],VX=F.value,{hideAddButton:g0,hideRemoveButton:y0}=p1(T,VX,K),C0=u1(T,VX,K);return Y.Div({children:[Y.Div({class:"flex items-center justify-between",children:[Y.Div({class:"flex items-center ba bw1 b--light-silver br3 w-70 w-80-ns",children:[o({cssClasses:"w1 h2 br3 br--left ml1px",dotCssClasses:"br3 br--left",colorIndex:f,level:K,isRectangular:!0,totalLevels:F.value.length}),pX({cssClasses:"bn pa2 br3 w-100 outline-0",placeholder:`Level ${K}`,disabled:C0,text:A.name,onchange:(b0)=>L0(b0,K)})]}),P5({hideAdd:g0,hideRemove:y0,onAdd:()=>S0(K+1),onRemove:()=>V0(K)})]}),Y.If({subject:N(F).lengthGT(K+1).truthy,isTruthy:Y.Div({class:"pa2 ml2 pl1 bl bw1 b--silver"})})]})}})}),C({title:"Habit completion goal",hideDescription:Q,description:R`
                  Goals are something for long-term. Let's say based on below table, after
                  a month or two, you followed your habit for 67% of the times, then you
                  just crossed the milestone - '${()=>wX(Z.value.milestones,67).label}'. For achieving your goal (in %), you can set your
                  own custom milestones depending on the difficulty of the habit.`,children:Y.For({subject:j,n:0,nthChild:Y.Div({class:"mb1 ph2 pv0 bn bw1 relative ts-white-1",children:[Y.Span({class:"lh-copy",children:""}),Y.Span({class:"w-30 absolute mt3 right-2 bottom--1dot5 flex items-center z-1",children:[Y.Span({class:"w-100 bg-white bn bw1 ph2dot5 di f4 b light-silver pb3 nl1",children:"100"}),Y.Span({class:"ph2 bg-white light-silver b pb3 mr1",children:"%"})]})]}),map:(A,K)=>Y.Div({class:"mb1 ph4 pv4 ba br3 bw1 b--light-gray relative",children:[Y.Span({class:"lh-copy flex items-center",children:[S({cssClasses:`mr2 ${A.color}`,size:20,iconName:A.icon}),A.label]}),Y.Span({class:"w-30 absolute mt3 right-2 bottom--1dot5 flex items-center z-1",children:[Y.If({subject:K===3,isTruthy:Y.Span({class:"w-100 bg-white bn bw1 br3 pa2dot5 di f4 b light-silver mb1",children:"00"}),isFalsy:j5({cssClasses:"w-100 ba bw1 b--light-silver br3 pa2dot5 di f5 b dark-gray",num:A.percent,onchange:(T)=>I0(T,K)})}),Y.Span({class:"ph2 bg-white light-silver b",children:"%"})]})]})})})])}),Y.If({subject:J,isFalsy:y({cssClasses:"pv2 ph3 flex items-center",onTap:()=>z.value=!z.value,children:[S({cssClasses:"mr1",iconName:h}),i]})})]})}),u5=O(({editableHabit:X,onMount:$})=>{let Z=H(JX.editPage),Q=H(!1),J=H(!1),W=H(""),z=H(R0()),U=I((V)=>V?`Edit '${V.title}'`:"Add new habit",X),_=N(U).lengthGT(22).ternary("f2dot66",""),B=N(X).ternary("Update","Add"),F=()=>Q.value=!0,j=()=>Q.value=!1,f=()=>{j(),history.go(-2)},P=()=>J.value=!0,D=()=>J.value=!1,k=()=>{R5(z.value),D(),history.back()},w=(V)=>z.value=V,h=()=>{if(W.value=m1(z.value,!X?.value),W.value)return;let V=z.value,r=[...X?.value?.levels||[]],l=i1(r,V.levels,V.tracker);xX({...z.value,tracker:l}),history.back()};return w0({onMount:()=>{if($)$(),z.value=X?.value;Z.value=K5()},body:LX({cssClasses:"bg-white ph3",header:Y.Div({class:_,children:U}),content:Y.Div([Y.If({subject:X,isTruthy:Y.Div([C({cssClasses:"pb2",title:"Actions",children:[M0({isOpen:Q,habit:z,onClose:j,onDone:f}),mX({cssClasses:"db mb3 f6 red",children:"Delete this habit permanently along with its data",onClick:F}),w5({isOpen:J,habit:z,onClose:D,onDone:k}),mX({cssClasses:"db mb3 f6 gray",children:"Stop this habit permanently and keep it for future",onClick:P})]})])}),N5({editableHabit:X,editedHabit:z,hideDescriptions:G(()=>!Z.value.showHints),showFullCustomisations:M(Z).prop("showFullCustomisation"),onChange:w})]),bottombar:Y.Div({class:"bg-white w-100 pv3",children:[Y.If({subject:W,isTruthy:Y.Div({class:"red mb3",children:W})}),Y.Div({class:"flex items-center justify-stretch",children:[N0({cssClasses:"w4dot50 w4dot25-ns"}),y({cssClasses:"w-100 pa3 ml3 b",children:B,onTap:h})]})]})})})}),r5=O(({cssClasses:X})=>{return Y.Div({class:R`flex flex-column items-center justify-around ${X}`,children:[Y.Img({class:"mt3 pt4",src:"/assets/images/just_landed.png",height:"200"}),Y.Div("Looks like, you just landed here!"),E5({cssClasses:"pt5",justifyCssClasses:"justify-around",label:"Add your first habit"})]})}),M0=O(({isOpen:X,habit:$,onClose:Z,onDone:Q})=>{let J=()=>{F5($.value.id),Q()};return zX({cssClasses:"bn w-30-ns",isOpen:X,onTapOutside:Z,content:Y.Div({class:"pa3 f5",children:[Y.Div({class:"mb3 b f4",children:R`Delete '${()=>$.value.title}'?`}),Y.Div({class:"mb4",children:[`
              All the data and the achievements associated with this habit will be lost forever
              with this action, and cannot be reversed.
              `,Y.Br({}),Y.Br({}),`
              Are you sure, you want to DELETE this habit permanently?
              `]}),Y.Div({class:"flex items-center justify-between f6",children:[y({cssClasses:"w-25 pv2 ph3 mr1 b",children:"No",onTap:Z}),y({cssClasses:"pv2 ph3 ml2 b red",children:"Yes, delete permanently",onTap:J})]})]})})}),M5=O(({isOpen:X,habit:$,date:Z,showTitleInHeader:Q,onClose:J,onChange:W})=>{let{title:z,levels:U,tracker:_,colorIndex:B}=M($).props,F=G(()=>Q?.value?`Change status of  '${z.value}'`:`Change status for ${Z.value.toDateString()}`);return zX({cssClasses:"f5 normal ba bw0 outline-0",isOpen:X,onTapOutside:J,content:Y.Div({class:"mnw5",children:[Y.Div({class:"f5 b tc pa3",children:F}),Y.Div({class:"f5 mb1",children:Y.For({subject:M(U).reversed,map:(j,f)=>{let P=U.value.length-1-f,D=R`pointer flex items-center pv3 pa3 bt b--moon-gray ${()=>b1(_.value,Z.value)?.level.code===P?"bg-near-white black fw6":"gray fw5"}`,k=P<1?"b--light-silver":"b--transparent";return Y.Div({class:D,onclick:x(()=>W(P)),children:[o({cssClasses:`pa1 mr3 ba b ${k}`,colorIndex:B,level:P,totalLevels:U.value.length,isRectangular:!0}),Y.Span(j.name)]})}})})]})})}),w5=O(({isOpen:X,habit:$,onClose:Z,onDone:Q})=>{return zX({cssClasses:"bn",isOpen:X,onTapOutside:Z,content:Y.Div({class:"pa3 f5",children:[Y.Div({class:"mb3 b f4",children:R`Stop '${()=>$.value.title}'?`}),Y.Div({class:"mb4",children:["This action is not reversible. You will not be able to resume it again.",Y.Br({}),Y.Br({}),"Are you sure, you want to STOP this habit permanently?"]}),Y.Div({class:"flex items-center justify-between f6",children:[y({cssClasses:"w-100 pv2 ph3 mr2",children:"No, go back",onTap:Z}),y({cssClasses:"w-100 pv2 ph3 ml2 b",children:"Yes, stop this",onTap:Q})]})]})})}),k5=O(({cssClasses:X,links:$})=>{return Y.Div({class:R`flex items-center justify-between pv3 bg-near-white ${X}`,children:Y.For({subject:$,map:(Z)=>T5({label:Z.label,icon:Z.icon,isSelected:Z.isSelected,href:Z.href})})})}),T5=O(({cssClasses:X,label:$,icon:Z,isSelected:Q,href:J})=>{let W=N(Q).ternary("app-theme-color b","black");return Y.Div({class:R`pointer noselect flex flex-column items-center justify-center pb2 ${W} ${X}`,onclick:x(()=>H1(J.value)),children:[S({size:22,iconName:Z}),Y.Div({class:"f7",children:$})]})}),d5=O(({cssClasses:X,header:$,content:Z,navbarTop:Q,route:J})=>{return LX({cssClasses:X,header:$,content:Z,bottombar:Y.Div({children:[Y.If({subject:Q,isTruthy:Q}),k5({cssClasses:"nl3 nr3 ph4",links:I(t1,J)})]})})}),w0=O(({cssClasses:X,body:$,onMount:Z})=>{return Y.Html({lang:"en",children:[Y.Head({children:[Y.Title("Habits (by Cyfer)"),Y.Link({rel:"icon",type:"image/x-icon",href:"/assets/images/favicon.ico"}),Y.Meta({"http-equiv":"Content-Security-Policy",content:`
                default-src 'self';
                script-src 'self';
                style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://unpkg.com;
                font-src https://fonts.gstatic.com;
                object-src 'none';
                base-uri 'none';
              `}),Y.Meta({charset:"UTF-8"}),Y.Meta({"http-equiv":"X-UA-Compatible",content:"IE=edge"}),Y.Meta({name:"viewport",content:"width=device-width, initial-scale=1.0"}),Y.Link({rel:"stylesheet",href:"/assets/styles.css"}),Y.Link({rel:"manifest",href:"/manifest.json"})]}),Y.Body({tabindex:"-1",class:X,onmount:Z,children:[Y.Script({src:"main.js",defer:"true"}),$]})]})}),C=O(({cssClasses:X,contentCssClasses:$,title:Z,description:Q,hideDescription:J,children:W})=>{let z=N(Q).andNot(J).truthy;return Y.Div({class:R`mt3 mb4 ${X}`,children:[Y.Div({class:"mb2 dark-gray f4 b",children:Z}),Y.If({subject:z,isTruthy:Y.Div({class:"mb3 f6 silver fw5",children:Q})}),Y.Div({class:$,children:W})]})}),s5=O(({cssClasses:X,iconSize:$,selectedOptionIndex:Z,onChange:Q})=>{let J=H(!1),W=G(()=>vX[Z.value]),z=()=>J.value=!0,U=()=>J.value=!1,_=(F)=>F===W.value.label?"bg-near-white black fw6":"gray fw5",B=(F)=>{Q(F),U()};return Y.Div({class:X,children:[uX({cssClasses:"pointer",descending:M(W).prop("decending"),iconName:M(W).prop("icon"),size:M($).or(20),onClick:z}),zX({cssClasses:"f5 normal ba bw0 outline-0",isOpen:J,onTapOutside:U,content:Y.Div({children:[Y.Div({class:"f5 b tc pv3",children:"Sort habit cards by"}),Y.Div({class:"f5 mb1",children:Y.For({subject:vX,map:(F,j)=>Y.Div({class:R`pointer flex items-center pv3 pl2 pr3 bt b--moon-gray ${()=>_(F.label)}`,onclick:x(()=>B(j)),children:[uX({cssClasses:"ml1 mr2",descending:F.decending,iconName:F.icon,size:20}),Y.Span(F.label)]})})})]})})]})}),uX=O(({cssClasses:X,descending:$,iconName:Z,size:Q,onClick:J})=>{let W=J?"pointer":"",z=N($).ternary("arrow_upward","arrow_downward"),U=N(Q).mul(4).div(5).result;return Y.Span({class:R`flex items-center ${W} ${X}`,onclick:x(J),children:[S({cssClasses:"silver",iconName:z,size:U}),S({size:Q,iconName:Z})]})}),o5=O(({cssClasses:X,progress:$})=>{return Y.Div({class:R`flex flex-column justify-center items-center vh-100 ${X}`,children:[Y.Img({class:"mt6 br4",src:"/assets/images/habits-logo.png",height:"100",width:"100"}),Y.Div({class:"f3 b mv3",children:"Habits"}),f5({cssClasses:"w-40",progress:$}),Y.Div({class:"mt7 pv4",children:"A Cyfer Product"})]})}),RX=H(""),g=H(R0()),{id:k0,title:rX,colorIndex:dX,levels:sX,milestones:FX,isStopped:qX}=M(g).props,d=H(!1),SX=H(!1),e=H(!1),KX=H({date:new Date,selectedLevelIndex:0}),T0=I(l1,g),H5=I(a1,T0),PX=G(()=>F0(g.value,new Date(k0.value),new Date).percent),H0=I(wX,FX,PX),{icon:x5,label:L5,color:S5}=M(H0).props,UX=I(n1,g),jX=()=>{let X=I1();if(!X){RX.value="Incorrect habit ID provided in the query params.";return}g.value=X},V5=()=>SX.value=!0,x0=()=>SX.value=!1,I5=()=>{x0(),history.back()},g5=(X)=>{if(!g.value)return;d1(g.value,X,KX.value.date),e.value=!1,jX()},y5=()=>{B5(),jX(),window.addEventListener("pageshow",jX)},C5=w0({onMount:y5,body:LX({cssClasses:"bg-white ph3",header:Y.Div({class:"flex items-start justify-between",children:[Y.Div({class:N(rX).lengthGT(22).ternary("f2dot66",""),children:rX}),Y.If({subject:qX,isFalsy:S({cssClasses:"mt1 mr1 ba b--silver bw1 br-100 pa1 noselect",size:18,iconName:"edit",onClick:()=>L1(k0.value)})})]}),content:Y.Div({children:[M0({isOpen:SX,habit:g,onClose:x0,onDone:I5}),M5({isOpen:e,habit:g,date:M(KX).prop("date"),onClose:()=>e.value=!1,onChange:g5}),Y.If({subject:RX,isTruthy:Y.Div({class:"red",children:RX}),isFalsy:Y.Div(Y.If({subject:g,isFalsy:Y.Div({class:"",children:"habit.."}),isTruthy:Y.Div({children:[Y.If({subject:qX,isTruthy:Y.Div([Y.Div({class:"red mb3",children:"Status: STOPPED PERMANENTLY"}),y({cssClasses:"pv2 ph3 nt2 mb4 red",onTap:V5,children:"Delete Permanently"})])}),C({cssClasses:"pb3",title:R`Completion status ${()=>d.value?"":`(target ${FX.value[0].percent}%)`}`,children:[Y.Div({class:"mt3",children:Y.For({subject:T0,n:1/0,nthChild:Y.Div({class:"flex items-center justify-between mt2 pt1 bt bw1 b--near-white b mid-gray",children:[Y.Div({class:"flex items-center",children:[S({cssClasses:R`mr1 ${S5}`,size:12,iconName:x5}),L5]}),Y.Div({class:"flex items-center",children:[H5,Y.Span({class:"ml1"}),Y.Div(R` (${PX}%)`)]})]}),map:(X,$)=>Y.Div({class:"flex items-center justify-between mb2",children:[Y.Div({class:"flex items-center",children:[o({cssClasses:"pa1 mr2",colorIndex:dX,level:X.level.code,totalLevels:sX.value.length,isRectangular:!0}),Y.Div(X.level.name)]}),Y.Div(`${X.count} times (${X.percent}%)`)]})})}),Y.If({subject:d,isTruthy:O5({cssClasses:"pt4 mt3 mb3",milestones:FX,achievedMilestone:H0,completionPercent:PX})}),y({cssClasses:"pa2 ph3 mt4 mb2",children:R`${N(d).ternary("Hide","Show")} target goal status`,onTap:()=>d.value=!d.value})]}),C({title:"Tracker",children:[Y.Div({class:"mh2 flex items-center justify-between",children:Y.For({subject:Array(7).fill(0),map:(X,$)=>Y.Div({class:"h2 w2 br-100 gray f7 flex items-center justify-center",children:U0($,1)})})}),Y.Div({onmount:(X)=>X.scroll({top:X.scrollHeight-X.clientHeight}),class:"mxh5 mxh6-ns nt2 bb bw1 b--near-white mh2 overflow-y-scroll",children:[Y.Div({class:R`absolute left-0 right-0 bg-to-top-white z-999 ${N(UX).lengthGT(4).ternary("h3","")}`}),Y.Div({children:Y.For({subject:UX,n:0,nthChild:Y.Div({class:N(UX).lengthGT(4).ternary("pv3 mt2","pv2")}),map:(X)=>Y.Div({class:"flex items-center h-60",children:[Y.Div({class:"w-100 mb3 flex items-center justify-between",children:Y.For({subject:X,map:($)=>{let Z=$.date.getDate(),Q=$.date.getMonth(),J=G0(Q,3),W=`${Z===1?Q===0?$.date.getFullYear().toString():J:Z}`;return o({cssClasses:"h2 w2 flex items-center justify-center f7",colorIndex:dX,level:$.level.code,totalLevels:sX.value.length||2,textContent:W,showText:$.level!==void 0,onClick:()=>{if(qX.value)return;e.value=!0,KX.value={date:$.date,selectedLevelIndex:$.level.code}}})}})})]})})})]})]})]})}))})]}),bottombar:Y.Div({class:"pb3",children:N0({})})})}),b5=()=>{L.start("mount"),X0.resetIdCounter(),C5(),L.start("run")};b5();
